"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[446],{8496:function(e,n,t){t.d(n,{Z:function(){return l}});var r="movies-list_section__eDIhF",a="movies-list_list__QsEHr",c="movies-list_listItem__AiXdG",s="movies-list_link__nBtgH",i=t(501),u=t(6871),o=t(184),f=function(e){var n=e.movies,t=(0,u.TH)();return(0,o.jsx)("section",{className:r,children:(0,o.jsx)("ul",{className:a,children:n&&n.map((function(e){var n=e.id,r=e.title;return(0,o.jsx)("li",{className:c,children:(0,o.jsx)(i.rU,{className:s,state:{from:t},to:"/movies/".concat(n),children:r})},n)}))})})},l=f;f.propsDefault={movies:[]}},3446:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(8683),a=t(5861),c=t(885),s=t(7757),i=t.n(s),u="movies-page_section__-WSMU",o="form_form__v9NsD",f="form_name__GxKcr",l="form_input__cqeL6",p="form_button__8zDUO",m=t(2791),v=t(184),d=function(e){var n=e.onSubmit,t=(0,m.useState)(""),r=(0,c.Z)(t,2),a=r[0],s=r[1];return(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(a),s("")},className:o,children:[(0,v.jsxs)("label",{htmlFor:"",children:[(0,v.jsx)("span",{className:f,children:"Find your movie:"}),(0,v.jsx)("input",{className:l,onChange:function(e){var n=e.target.value;s(n)},value:a,type:"text"})]}),(0,v.jsx)("button",{className:p,type:"submit",children:"Search"})]})},h=t(1066),_=t(8496),x=t(501),y=function(){var e=(0,x.lr)(),n=(0,c.Z)(e,2),t=n[0],s=n[1],o=(0,m.useState)({films:[],error:null,loading:!1}),f=(0,c.Z)(o,2),l=f[0],p=f[1],y=t.get("query");(0,m.useEffect)((function(){function e(){return(e=(0,a.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:return p((function(e){return(0,r.Z)((0,r.Z)({},e),{},{loading:!0})})),e.prev=3,e.next=6,h.b.byQuery(y);case 6:n=e.sent,t=n.data.results,p((function(e){return(0,r.Z)((0,r.Z)({},e),{},{films:t,loading:!1})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),p((function(n){return(0,r.Z)((0,r.Z)({},n),{},{loading:!1,error:e.t0.message})}));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y]);var b=l.films,g=l.loading,k=l.error;return(0,v.jsxs)("section",{className:u,children:[(0,v.jsx)(d,{onSubmit:function(e){s({query:e})}}),g&&(0,v.jsx)("p",{children:"Loading..."}),k&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{children:"Server error occured"}),(0,v.jsx)("p",{children:k})]}),(0,v.jsx)(_.Z,{movies:b})]})}},1066:function(e,n,t){t.d(n,{b:function(){return d}});var r=t(5861),a=t(7757),c=t.n(a),s=t(4569),i=t.n(s),u="313da384ffe4ec90efea6fc8b4aa73ee",o="https://api.themoviedb.org/3/",f=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(n));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"trending/movie/week?api_key=").concat(u));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"movie/").concat(n,"?api_key=").concat(u));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"movie/").concat(n,"/credits?api_key=").concat(u));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(o,"movie/").concat(n,"/reviews?api_key=").concat(u));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d={byQuery:f,trending:l,byId:p,fetchReviewsById:v,fetchCastById:m}}}]);
//# sourceMappingURL=446.a5e7664d.chunk.js.map