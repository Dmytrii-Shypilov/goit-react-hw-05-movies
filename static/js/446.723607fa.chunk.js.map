{"version":3,"file":"static/js/446.723607fa.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/movies-list.module.css?3466","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/movies-page.module.css?9b57","webpack://goit-react-hw-05-movies/./src/components/Form/form.module.css?cfaa","components/Form/Form.jsx","pages/MoviesPage/MoviesPage.jsx","pages/services/fetch.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movies-list_section__eDIhF\",\"list\":\"movies-list_list__QsEHr\",\"listItem\":\"movies-list_listItem__AiXdG\",\"link\":\"movies-list_link__nBtgH\"};","import s from './movies-list.module.css';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n\nconst MoviesList = ({ movies }) => {\nconst location = useLocation()\n  return (\n    <section className={s.section}>\n      <ul className={s.list}>\n        {movies &&\n          movies.map(movie => {\n            const { id, title } = movie;\n            return (\n              <li key={id} className={s.listItem}>\n                <Link className={s.link} state={{from: location}} to={`/movies/${id}`}>{title}</Link>\n              </li>\n            );\n          })}\n      </ul>\n    </section>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propsDefault = {\n  movies: [],\n}\n\nMoviesList.propTypes = {\nmovies: PropTypes.arrayOf(PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired\n}))\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movies-page_section__-WSMU\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"form_form__v9NsD\",\"name\":\"form_name__GxKcr\",\"input\":\"form_input__cqeL6\",\"button\":\"form_button__8zDUO\"};","import s from './form.module.css';\nimport { useState } from 'react';\n\nconst Form = ({onSubmit}) => {\nconst [query, setQuery] = useState('')\n\nconst onInput = (e) => {\nconst inputValue = e.target.value\nsetQuery(inputValue)\n}\n\nconst getSubmit = (e) => {\n   e.preventDefault()\n    onSubmit(query)\n    setQuery('')\n    \n}\n  return (\n    <form onSubmit={getSubmit} className={s.form}>\n      <label htmlFor=\"\">\n        <span className={s.name}>Find your movie:</span>\n        <input className={s.input} onChange={onInput} value={query} type=\"text\" />\n      </label>\n      <button className={s.button}  type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n","import s from './movies-page.module.css';\n\nimport Form from 'components/Form';\nimport { API } from 'pages/services/fetch';\nimport MoviesList from 'components/MoviesList';\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState({\n    films: [],\n    error: null,\n    loading: false,\n  });\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    async function fetchMovies() {\n      if (!query) {\n        return;\n      }\n\n      setMovies(prevState => {\n        return {\n          ...prevState,\n          loading: true,\n        };\n      });\n      try {\n        const fetched = await API.byQuery(query);\n        const fetchedMovies = fetched.data.results;\n        setMovies(prevMovies => {\n          return { ...prevMovies, films: fetchedMovies, loading: false };\n        });\n      } catch (error) {\n        setMovies(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n            error: error.message,\n          };\n        });\n      }\n    }\n    fetchMovies();\n  }, [query]);\n\n  const onSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  const { films, loading, error } = movies;\n  return (\n    <section className={s.section}>\n      <Form onSubmit={onSubmit} />\n      {loading && <p>Loading...</p>}\n      {error && (\n        <>\n          <p>Server error occured</p>\n          <p>{error}</p>\n        </>\n      )}\n      <MoviesList movies={films} />\n    </section>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst key = '313da384ffe4ec90efea6fc8b4aa73ee';\nconst baseURL = `https://api.themoviedb.org/3/`;\n\nconst fetchByQuery = async query => {\n  const movies = await axios.get(\n    `${baseURL}search/movie?api_key=${key}&query=${query}`\n  );\n  return movies;\n};\n\nconst fetchTrending = async () => {\n  const movies = await axios.get(\n    `${baseURL}trending/movie/week?api_key=${key}`\n  );\n  return movies;\n};\n\nconst fetchById = async (id) => {\n  const movies = await axios.get(\n    `${baseURL}movie/${id}?api_key=${key}`\n  );\n  return movies;\n}\n\nconst fetchCastById = async (id) => {\n  const cast = await axios.get(`${baseURL}movie/${id}/credits?api_key=${key}`)\n  return cast\n}\n\nconst fetchReviewsById = async (id) => {\n  const reviews = await axios.get(`${baseURL}movie/${id}/reviews?api_key=${key}`)\n  return reviews\n}\n\nexport const API = {\n  byQuery: fetchByQuery,\n  trending: fetchTrending,\n  byId: fetchById,\n  fetchReviewsById,\n  fetchCastById,\n};\n"],"names":["MoviesList","movies","location","useLocation","className","s","map","movie","id","title","state","from","to","propsDefault","onSubmit","useState","query","setQuery","e","preventDefault","htmlFor","onChange","inputValue","target","value","type","useSearchParams","searchParams","setSearchParams","films","error","loading","setMovies","get","useEffect","prevState","API","fetched","fetchedMovies","data","results","prevMovies","message","fetchMovies","key","baseURL","fetchByQuery","axios","fetchTrending","fetchById","fetchCastById","cast","fetchReviewsById","reviews","byQuery","trending","byId"],"sourceRoot":""}